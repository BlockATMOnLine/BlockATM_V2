---
description: 20250417：New Version Upgrade and Integration Guide (V2)
---

# V2.0.0

PayHelp merchants quickly locate the change points and reduce access costs.

| Module                | Old version                                                                                                                               | New version                                                                                                                                                                   | Countermeasures                                                                                                                                                                                                                                                                                                                                                             |
| --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Pay by Connect Wallet | <p></p><p>Cashier accessed via widget</p><ol><li>Customer ID (custno) optional</li><li>URL parameter signature optional (ECDSA)</li></ol> | <p>Cashier accessed via widget<br>1. <code>custno</code> field now required<br>2. URL parameter signature now mandatory (HMAC-SHA256)<br>3. SDK URL updated to v2 version</p> | <ol><li>Verify whether the code passes <code>custNo</code></li></ol><ol start="2"><li>Integrate the signature logic (refer to Appendix II - Signature Method Changes in the signature documentation)</li></ol><ol start="3"><li>Update the SDK import path to:<br><code>"https://cashier.blockatm.net/libs/v2/BlockATM.umd.js?apiKey=[API_KEY]"</code></li></ol><p><br></p> |
| Pay by Scan-to-Pay    | Create order via API, returns cashier URL                                                                                                 | Access cashier via widget                                                                                                                                                     | <p>1.Deprecate legacy API calls and migrate to the new deposit integration workflow</p><p>2.Integrate the new Widget component (refer to Widget Integration Guide)</p>                                                                                                                                                                                                      |
| Payout                | <p></p><ol><li>Upload payout orders on merchant side</li></ol>                                                                            | <p>1.1. Keep merchant-side upload<br>2. Add API for creating payout orders</p>                                                                                                | 1. Choose to integrate via [Create Payout Order API](https://github.com/BlockATMOnLine/BlockATM_V2/blob/main/open-api/payout-data/create-payout-order.md)                                                                                                                                                                                                                   |
| **Webhook**           | <p>1. ECDSA signature algorithm<br>2. Order status (int)</p>                                                                              | <p>1. Signature algorithm changed to HMAC-SHA256<br>2. Order status (String)</p>                                                                                              | <p>&#x3C;p>Signature string logic unchanged<br>1. Update verification logic (refer to &#x3C;a href="../overview/signing.md">Signature Documentation&#x3C;/a>)<br>2. Adapt to new fields (see <strong>Appendix I</strong> below)</p>                                                                                                                                         |
| **API**               | 路径为/api/v1                                                                                                                                | 路径升级为/api/v2                                                                                                                                                                  | See **Appendix III: API Changes**                                                                                                                                                                                                                                                                                                                                           |

***

### **Appendix I** ：Field Change Comparison (Webhook Payment)

| Old Field     | New Field   | Type   | Explanation                                                                                                                                                                |
| ------------- | ----------- | ------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| platOrderNo   | `id`        | long   | BlockATM unique order identifier                                                                                                                                           |
| type          | orderType   | int    | Collection order type                                                                                                                                                      |
| status        | status      | String | <p>Change from a number to a string:<br>-1->CANCELLED<br>-1 ->EXPIRED</p><p>0-> PENDING</p><p>1-> SUCCESS</p>                                                              |
| walletAddress | fromAddress | String | The wallet address for payment.                                                                                                                                            |
| merchantId    | cashierId   | long   | The new version has registered the cashier as an access object and no longer supports merrchantId                                                                          |
| -             | blockTime   | long   | Add a new field to return the creation time of the exchange on the blockchain                                                                                              |
| fee           | -           | number | The handling fee for the new version is charged through the withdrawal contract and is fixed on a per-transaction basis. It will no longer be reflected in the collection. |
|               |             |        |                                                                                                                                                                            |

### **Appendix II**：Comparison of changes in sign

| Configuration Item  | Old Version                                                                 | New Version                      | Description                                      |
| ------------------- | --------------------------------------------------------------------------- | -------------------------------- | ------------------------------------------------ |
| Public Key          | \[Web3 Collection Contract]/\[Scan2Pay Contract] → \[Settings] - \[API]     | \[Cashier] - \[Integration]      | Widget Cashier parameters, API signature headers |
| Secret Key          | \[Web3 Collection Contract]/\[Scan2Pay Contract] → \[Settings] - \[API]     | \[Cashier] - \[Integration]      | Cashier parameters, API parameter signing key    |
| Webhook Secret      | \[Web3 Collection Contract]/\[Scan2Pay Contract] → \[Settings] → \[Webhook] | \[Cashier] - \[Integration]      | Webhook signature verification key               |
| Webhook URL         | \[Web3 Collection Contract]/\[Scan2Pay Contract] → \[Settings] → \[Webhook] | \[Cashier] - \[Integration]      | Webhook notification URL                         |
| Signature Rule      | Sorted by character & connection                                            | Sorted by character & connection | Signature rule remains unchanged                 |
| Signature Algorithm | ECDSA                                                                       | HMAC-SHA256                      |                                                  |

\


### **Appendix III** API Changes

<table><thead><tr><th>API Function</th><th>Old Version Path/Endpoint</th><th>New Version Path/Endpoint</th><th width="238.2000732421875">Changes</th></tr></thead><tbody><tr><td>Get Supported Networks</td><td><code>/api/v1/public/networklist</code></td><td><code>/api/v2/pub/allNetworks</code></td><td>If merchants fetch supported networks before entering the Cashier, please update accordingly.</td></tr><tr><td>Get Supported Cryptocurrencies</td><td><code>/api/v1/public/cryptocurrencies</code></td><td><code>/api/v2/pub/symbolList</code></td><td>If merchants fetch supported currencies before entering the Cashier, please update accordingly.</td></tr><tr><td>Get Collection Contract Address</td><td><code>/api/v1/contract/payment</code></td><td><code>/api/v2/pub/cashier/info</code></td><td>Previously fetched independently; now obtained via Cashier’s configured contract address info.</td></tr><tr><td>Query Payment Order</td><td>&#x3C;p>&#x3C;code>/api/v1/payment/qrCodePayment&#x3C;/code><br>&#x3C;code>/api/v1/payment/contractPayment&#x3C;/code>&#x3C;/p></td><td><code>/order/api/v2/payorder/detail</code></td><td>If merchants actively query payment order status, switch to the new API endpoint.</td></tr><tr><td>Query Payout Order</td><td><code>/api/v1/payout/get</code></td><td><code>/api/v2/payout/detail</code></td><td>If merchants actively query payout order status, switch to the new API endpoint.</td></tr></tbody></table>

###
